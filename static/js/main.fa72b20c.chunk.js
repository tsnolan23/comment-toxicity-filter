(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){e.exports=n(290)},132:function(e,t,n){},133:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),c=n.n(o),i=(n(132),n(123)),m=(n(133),n(111)),l=n(112),s=n(124),u=n(113),d=n(125),h=n(122),b=n(60),f=n(117),p=n.n(f),v=(n(286),n(118)),E=(n(287),function(e){var t=Object(v.a)({},e);return r.a.createElement("div",Object.assign({className:"Card"},t))}),C="https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=".concat("AIzaSyB9p-sIVqxrKOF025O2G63m37qcYb4gFBw"),g=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).checkForToxicity=function(e,t){var a=t.setSubmitting;p.a.post(C,{comment:{text:e.comment},languages:["en"],requestedAttributes:{TOXICITY:{},INSULT:{},FLIRTATION:{},THREAT:{}}}).then(function(t){return a(!1),n.props.onSubmit(e,t.data.attributeScores)}).catch(function(){})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement(h.a,{initialValues:{comment:""},onSubmit:this.checkForToxicity,validationSchema:b.object().shape({comment:b.string().required("Please enter a comment")})},function(e){var t=e.values,n=e.errors,a=e.touched,o=e.isSubmitting,c=e.handleChange,i=e.handleSubmit;return r.a.createElement("form",{onSubmit:i},r.a.createElement("textarea",{className:"CommentForm__Textarea ".concat(n.comment&&a.comment&&"CommentForm__Textarea--error"),placeholder:"Enter your comment...",value:t.comment,onChange:c,name:"comment"}),r.a.createElement("div",{className:"CommentForm__Actions"},r.a.createElement("div",{className:"CommentForm__Error"},n.comment),r.a.createElement("button",{className:"CommentForm__Submit",type:"submit"},o?"Sending...":"Submit")))}))}}]),t}(r.a.Component),y=(n(288),function(){return r.a.createElement("div",{className:"Intro"},r.a.createElement("h1",{className:"Intro__Title"},"Fighting Toxicity with Perspective API"),r.a.createElement("p",{className:"Intro__Desc"},"When the form is submitted, we send the comment off to the"," ",r.a.createElement("a",{href:"https://www.perspectiveapi.com",target:"_blank",rel:"noopener noreferrer",className:"Intro__Link"},"Perspective API")," ",'to determine the probability that it was intended to be toxic. We compare that probability to a threshold we deem "okay", and if it exceeds that, we reject the comment as toxic. Try it below by entering a variety of comments and see which ones are rejected!'))}),w=n(39),T=n(40);function x(){var e=Object(w.a)(["\n  z-index: 99;\n  fill: #4886fe;\n  color: #fff;\n  position: fixed;\n  top: 0;\n  border: 0;\n  right: 0;\n"]);return x=function(){return e},e}function I(){var e=Object(w.a)(["\n  outline: none !important;\n  &:hover .octo-arm {\n    animation: "," 560ms ease-in-out;\n  }\n  & .octo-arm {\n    transform-origin: 130px 106px;\n  }\n  @media screen and (max-width: 500px) {\n    &:hover .octo-arm {\n      animation: none;\n    }\n    & .octo-arm {\n      animation: "," 560ms ease-in-out;\n    }\n  }\n"]);return I=function(){return e},e}function O(){var e=Object(w.a)(["\n  0%,\n  100% {\n    transform: rotate(0);\n  }\n  20%,\n  60% {\n    transform: rotate(-25deg);\n  }\n  40%,\n  80% {\n    transform: rotate(10deg);\n  }\n"]);return O=function(){return e},e}var _=Object(T.b)(O()),j=T.a.a(I(),_,_),N=Object(T.a)("svg")(x()),S=function(){return r.a.createElement(j,{href:"https://github.com/tsnolan23/comment-toxicity-filter","aria-label":"View source on Github"},r.a.createElement(N,{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"},r.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),r.a.createElement("path",{className:"octo-arm",fill:"currentColor",d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"}),r.a.createElement("path",{className:"octo-body",fill:"currentColor",d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"})))},F=n(121),L=(n(289),[{id:"TOXICITY",label:"Toxicity"},{id:"INSULT",label:"Insult"},{id:"FLIRTATION",label:"Flirtation"},{id:"THREAT",label:"Threat"}]),A=function(e){var t=e.results;return r.a.createElement(E,null,L.map(function(e){return r.a.createElement("div",{className:"Results__Row",key:e.id},r.a.createElement("h3",{className:"Results__Intent"},e.label),r.a.createElement("div",null,function(e){var n=Object(F.get)(t,[e,"summaryScore","value"]);return n?n.toFixed(2):"--"}(e.id)))}))};A.defaultProps={results:{}};var k=A,R=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],o=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(y,null),r.a.createElement(g,{onSubmit:function(e,t){return o(t)}}),r.a.createElement("br",null),r.a.createElement(k,{results:n}))};c.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.fa72b20c.chunk.js.map